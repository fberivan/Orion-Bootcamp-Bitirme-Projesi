<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Login | E-Commerce</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>

<div class="wrapper">
  <div class="text-center mt-4 name"> E-Commerce App </div>
  <form class="p-3" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-field d-flex align-items-center">
      <span class="far fa-user"></span>
      <input type="text" id="username" formControlName="username" placeholder="Username">
    </div>
    <!-- Username alanı için gösterilecek hatalar -->
    <div *ngIf="username.invalid && (username.dirty || username.touched)" class="invalid-feedback d-block mb-2">
      {{ username.errors?.['required'] ? 'Mail is required.' : '' }}
      {{ username.errors?.['minlength'] ? 'Password must be at least 3 characters long.' : '' }}
    </div>
    <div class="form-field d-flex align-items-center">
      <span class="fas fa-key"></span>
      <input type="password" id="password" formControlName="pass" placeholder="Password">
    </div>
    <!-- Şifre alanı için gösterilecek hatalar -->
    <div *ngIf="pass.invalid && (pass.dirty || pass.touched)" class="invalid-feedback d-block mb-2">
      {{ pass.errors?.['required'] ? 'Password is required.' : '' }}
      {{ pass.errors?.['minlength'] ? 'Password must be at least 3 characters long.' : '' }}
    </div>
    <button type="submit" class="btn mt-3" [disabled]="!loginForm.valid">Login</button>
    <!-- Servisten gelen hataları göstermek için -->
    <div *ngIf="submitError && username.untouched && pass.untouched" class="alert alert-danger mt-3" role="alert">
      {{ submitError }}
    </div>
  </form>
  <div class="text-center fs-6"> <a routerLink="/register">Sign up</a> </div>
</div>

</body>
</html>
